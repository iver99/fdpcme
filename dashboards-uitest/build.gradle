

sourceSets {
integTest {
        java.srcDir 'src/integTest/java'

    
        compileClasspath = configurations.testConfig + configurations.webdriver + configurations.testNG
        }
    }

clean{
  delete 'build'
}

task integTestJar (type:Jar) {
    from sourceSets.integTest.output
    appendix = 'integ-tests'
}


check.dependsOn integTestJar

publishing.publications {
    integTest(MavenPublication) {
                        setArtifactId(project.name + '-' + integTestJar.appendix)
                        setGroupId('com.oracle.emaas.emcpdf.test')
                        artifact integTestJar.archivePath
    }
    
}

dependencies {
    testConfig project(':dashboards-ui-test-common-api') { transitive = false }
    testConfig(group: 'org.jmockit', name: 'jmockit', version: '1.19') { transitive = false }
    
    testCompile configurations.testConfig
    testCompile configurations.webdriver
    testCompile configurations.testNG
}

artifactoryPublish {
publications ('integTest')

    }

